<div class="container">

    <form [formGroup]="formularioCreado">
        <div class="form-group">
            <label for="">Nombre</label>
            <input type="text" name="" class="form-control" formControlName="nombre">

            <div *ngIf="formularioCreado.controls['nombre'].invalid && formularioCreado.controls['nombre'].dirty"
                class="alert alert-danger" role="alert">
                <span *ngIf="formularioCreado.controls['nombre'].errors.required"> El nombre es requerido</span>
            </div>
        </div>
        {{formularioCreado.controls['nombre'].invalid}}
        {{formularioCreado.controls['nombre'].dirty}}

        <div class="form-group">
            <label for="">Correo</label>
            <input type="text" name="" class="form-control" formControlName="correo">

            <div *ngIf="formularioCreado.controls['correo'].invalid && formularioCreado.controls['correo'].dirty">
                <div class="alert alert-danger" role="alert"
                    *ngIf="formularioCreado.controls['correo'].errors.required">
                    El correo es requerido
                </div>
                <div class="alert alert-danger" role="alert" *ngIf="formularioCreado.controls['correo'].errors.email">
                    El correo no tiene un formato valido
                </div>
            </div>

        </div>
        <div class="form-group">
            <label for="">Contraseña</label>
            <input type="password" name="" class="form-control" formControlName="password">
            <div *ngIf="formularioCreado.controls['password'].invalid && formularioCreado.controls['password'].dirty">
                <div *ngIf="formularioCreado.controls['password'].errors.required" class="alert alert-danger"
                    role="alert">
                    La contraseña es requerida
                </div>
                <div *ngIf="formularioCreado.controls['password'].errors.minlength" class="alert alert-danger"
                    role="alert">
                    La contraseña debe contener al menos 8 caracteres
                </div>
            </div>
        </div>
        <button *ngIf="esNuevo" [disabled]="!formularioCreado.valid" class="btn btn-success"
            (click)="agregar()">Agregar</button>
        <button *ngIf="!esNuevo" [disabled]="!formularioCreado.valid" class="btn btn-primary"
            (click)="editar()">Editar</button>
    </form>
</div>

<div class="container">
    <div *ngFor="let usua of usuario; let posicion= index" class="container borde">
        <h4>{{usua.nombre}} en posicion de {{posicion}}</h4>
        <p>{{usua.correo}}</p>
        <p>{{usua.password}}</p>
        <button class="btn btn-primary" (click)="editarUsuario(posicion)">Editar user</button>
        <button class="btn btn-danger" (click)="eliminarUsuario(posicion)">Eliminar user</button>
    </div>
</div>
<!-- 
<p>Es valido {{formularioCreado.valid}}</p>

<p>{{formularioCreado.value | json}}</p> -->